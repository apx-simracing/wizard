{% load static %}
<html>

<head>
  <title>Ticker</title>
  <link rel="stylesheet" href="{% static 'webgui/lib/spectre.min.css' %}">
  <link rel="stylesheet" href="{% static 'webgui/lib/spectre-exp.min.css' %}">
  <link rel="stylesheet" href="{% static 'webgui/lib/spectre-icons.min.css' %}">
  <link rel="stylesheet" href="{% static 'webgui/style.css' %}">
</head>

<body>
  <div class="container">
    <div class="columns">
      <div class="columns col-2"></div>
      <div class="columns col-7">
        <div class="columns col-10">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>Position</th>
                <th>Class</th>
                <th>Team</th>
                <th>Driver</th>
                <th>Laps</th>
                <th>Gap</th>
              </tr>
            </thead>
            <tbody>
              {% for position, vehicle in vehicles.items %}

              <tr>
                <td>{{vehicle.position}} </td>
                <td>{{vehicle.carClass}}</td>
                <td>{{vehicle.vehicleName}}</td>
                <td>{{vehicle.driverName}}</td>
                <td>{{vehicle.lapsCompleted}}</td>
                <td>
                  {% if vehicle.lapsBehindNext == 0 %}
                  {{vehicle.timeBehindNext}}
                  {% else %}
                  {{vehicle.lapsBehindNext}}
                  {% endif %}
                </td>
              </tr>
              {% endfor%}
            </tbody>
          </table>
        </div>
        <div class="columns col-2">
          {% for message in messages %}
          <div class="columns col-12">
            <div class="col-2">
              <i class="icon icon-2x icon-mail"></i>
            </div>
            <div class="col-10">
              <b>{{message.message}}</b>
              <ul>
                {% for vehicle in message.affected_vehicles.all %}
                <li>{{vehicle.vehicle_number}}: {{vehicle.team_name}}</li>
                {% endfor%}
              </ul>
            </div>
          </div>
          {% endfor%}
        </div>
      </div>
      <div class="column col-2"></div>
    </div>
  </div>
</body>

</html>